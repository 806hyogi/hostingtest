<!DOCTYPE html>
<html style="height:100%;">
<head>
<meta charset="UTF-8">
<title>KaKaoMap Study : olrlobt</title>
</head>
<body style="margin:0; padding:0; height:100%;">
    <div id="map" style="width:100%;height:100%;"></div>

    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=baa1f48d1a2ac62f865637b2ddb9ac08"></script>
    <script type="text/javascript">
        var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
        var options = { //지도를 생성할 때 필요한 기본 옵션
            center: new kakao.maps.LatLng(33.450701, 126.570667), //지도의 중심좌표.
            level: 2 //지도의 레벨(확대, 축소 정도)
        };

        var map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴

        if (navigator.geolocation) {
            navigator.geolocation.watchPosition(function(position) {
                var lat = position.coords.latitude, 
                    lon = position.coords.longitude;

                var locPosition = new kakao.maps.LatLng(lat, lon);

                map.setCenter(locPosition); 

                var imageSize = new kakao.maps.Size(64, 69), 
                    imageOption = {offset: new kakao.maps.Point(27, 69)}; 

                var markerImage = new kakao.maps.MarkerImage('./right.png', imageSize, imageOption),
                    markerPosition  = new kakao.maps.LatLng(lat, lon); 

                var marker = new kakao.maps.Marker({
                    position: markerPosition,
                    image : markerImage
                });

                marker.setMap(map);
            });

            window.addEventListener('deviceorientation', function(event) {
              console.log('Alpha:', event.alpha);
              console.log('Beta:', event.beta);
              console.log('Gamma:', event.gamma);
            });
        } else {
            console.log("Geolocation is not supported by this browser.");
        }
    </script>
</body>
</html>

